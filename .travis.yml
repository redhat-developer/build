---
language: go
go:
  - 1.14.x
services:
  - docker
env:
  # quay.io/redhat-developer/build-e2e credentials, base64 encoded on CI_DOCKERCONFIGJSON
  global:
    - secure: BWbWvkFNZBXn35R41OljN6ebHULY+92L5A+iRLtOHuW3KT3ZVy/O0ttvXpuXzZU/xMTt+g3R+E+OsS3FI1b9eMhwbkC+tvpH/+aGeJSJ/dAdQGC+cVMml4t48vaauN7Q2ln2IMJYbf9mOYOR8ffNKfJL6035bzm92SDwxZri2Rg4ej3Ns/sjQHt3VZUgn4+koyMtz7Ondmfo1Vkf/PS3w7XBXjs1okvVDc27m6BPSOBjd2EqwpxtGso2zRqxtFS/oFIN/R/GP2gmvdIhOqjqXhUsLx9xk7c2YfLweAa2NluF1/Azg9gNF/64JEGg0GixvJYzL7z3R1T5HBRxSMBufMpZHZBczhYwTA4d1IPih/e8/Bf6BZ5Vyu4W+2vmHTZ79bevC0QxKrwdCd0vwveOrHKd4H/cNG/bfGD/N7D1PSTj5a0RQ5Uh6fbk0o5CyNa/UfR/I8NKyLhhND+fctz/vZEIIiPlCnkUX4ChSRRHETNtOPfoHg6UIHTe1iJrg1JxkJmiCXAELNTQ6sV8y/RiPO1AyRXcpxGfDQpjIg3xV4eQL9C4oTyXWsL3V8QrX6F2KlxPTnLqb0QIfRjGJ4vlvX4LI7RhQuVOxkAo46drABQZn64cuvLZWa7M5GLtEXSsnL9hm7uCEpGmFimKw5iGGcn/c7zx0wQpxgnAZQ4fNlg=
    - secure: HsuHFKwkDnMoBqjQ3Sr3ARxgU160aICLfK3KFo81Indd6dS7c58dEF8qIhgEqp0ll40DwXancmGgVUfjC146PgFK2nj379cnjSytGNo/yjqjCllXJt5Whgyhu5E2pAvwRZzP/xk0TqeeLA2LGfnlmwAm+a9MScf9AXmvr6tyn5lkaIyX+n1vlCjbdDm8pIs0Vwt193aBInOWQ8CSq9WyUdoaAyO+cxW8AcQTY1dG77801S23XFoC3ec975902IqI6JAxa208YKINPnlI3TsuodT//C9Y8CLsUlawwY2VQ8dTWYOHjJl3Yck5IDkyYCogLoPorfYd3h08suJWfbae1PDTEllbii7HyPAMfSTPCe/vJQJAXjtSXgBCmxcMgMFWoJ67UajAvhB2c3GwG2f3uuKq+eOzJG+v4RIfUAKQLWJ8eMHDVoX0Cu/Z1cQRN5EXNT5hBubz30TY5hYsImJA9CxVsWJGU/ytgvRuU6dVCrquTL56vexXsQslszW+FSZkOqg0+/afnFouJbIxfZEqTM+1AXhZUD0MvwAi+rdWJdmI7tXhOoft0gBTCOkz/1HpJ6GDxieKFkKm90jlliDlbNWlMUs2w+W30Sw+7dFSoYlL8fZHSfhZnQBhBGvSdDc+21FAtnw3iZf7Dk8J/In8Uz0TgNSDlGIFpafYuzLL4Vs=
    - secure: WiHZUUFn1ZBDJtvRrPYyVUWrg/coo3+mHpISvWHwQ+pxcyPAXgqOF1Q/DN9wP6OZktgZRtd1LSYdFQTPjareN2epmbEU6RTVEUhUsN9Tgcntx9oYLfKA4TEOqORw00uYbk9rlzK4IVhO9TCnm4YyxsFpuYl47CWLkSe2dDTfpv3PZKQXSg+iXnunZsAvPUBxIUVVh3pALY4iXSma0iem35ANn+50jgiyHMKjxWUJLnvBzVFw4T4l8OoX8oNPmZJHtuylaH0pi8l4aHqaYKy+TAsfPnMAryOkowYH/XGkdAVkbpfXQrpzAs32GfrvgMYFM42RLxYZrgiGGo9NaloZUVLcuTIrAdIoMJBzb303WOltT6Qdo21LPTxMxcKF0ZwhL+lFL+tzoAnmWP88xnv1qGOpTDUnOsoF2ZVRRhcPZM3zqAb8q7vUd0Rz7n68P6hpvNsNNdi/BYKepf5loTonBsNXSjvBmf1s/ex90Ys++yb7NDpO9S10T7UXZVCrrVolERtFxMFXKc8r5ElWlos38LphYjhpqeNIoiZfckMnbGfiGRcSCTd3GANmBSuX9phGAK0ZNHlDIrT7KYvPTdz0MEObWUfs7H4qnHWqmZhRr+otu5df+tSH75Qk6KaKLIH8L5ZWXIXlp3Rl99qIqeS8uNdQRbynDIWx9djC3ZlSrBI=
install:
  - make travis
script:
  - make
  # https://github.com/redhat-developer/build/issues/123
  - make test
  - make test-e2e TEST_IMAGE_REPO_DOCKERCONFIGJSON="$(echo $CI_DOCKERCONFIGJSON |base64 -d)"
